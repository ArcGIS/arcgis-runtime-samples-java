plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' // version is defined in settings.gradle
    id 'com.esri.arcgis-plugin' version '0.0.1'
}

group = 'com.esri.samples'

javafx {
    version = "17.0.2"
    modules = [ 'javafx.controls', 'javafx.graphics', 'javafx.fxml', 'javafx.web', 'javafx.media' ]
}

application {
    mainModule = "com.esri.samples.display_map"
    mainClass = "com.esri.samples.display_map.DisplayMapSample"
}

compileJava.options.encoding = 'UTF-8'

repositories {
    maven {
        name "reposiliteRepositoryReleases"
        url "http://localhost:8080/releases"
        allowInsecureProtocol=true
    }
    mavenLocal()
    mavenCentral()
    maven {
        url 'https://esri.jfrog.io/artifactory/arcgis'
    }
    maven {
        url 'https://olympus.esri.com/artifactory/arcgisruntime-repo'
    }
}

arcgis {
    version = '200.2.0-9999'
}

dependencies {
    // handle SLF4J http://www.slf4j.org/codes.html#StaticLoggerBinder
    runtimeOnly 'org.slf4j:slf4j-nop:1.7.32'
}

if (rootProject == project) {
    // the wrapper task is only used if this project is the root project i.e. not a subproject
    wrapper {
        gradleVersion = '7.5.1'
    }
}

run {
    doFirst {
        // sets the API key from the gradle.properties file as a Java system property
        systemProperty 'apiKey', apiKey
    }
}
