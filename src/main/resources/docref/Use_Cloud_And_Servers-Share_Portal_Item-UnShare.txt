//[DocRef: Name=Use_Cloud_And_Servers-Share_Portal_Item-UnShare
// Make the portalitem private
final ListenableFuture&lt;Void&gt; unshareFuture = portalItemToShare.unshareAsync();
unshareFuture.addDoneListener(new Runnable() {
  @Override
  public void run() {
    try {
      unshareFuture.get();
      showMessage("Stopped sharing portal item");
    } catch (InterruptedException | ExecutionException e) {
      dealWithException(e);
    }
  }
});
//[DocRef: Name=Use_Cloud_And_Servers-Share_Portal_Item-UnShare